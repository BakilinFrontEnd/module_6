<!doctype html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Кредитный калькулятор</title>
</head>

<body>
    <ul>
        <li>если клиенту нет 18 лет, то кредит он не получит</li>
        <li>если клиенту от 18 до 21, то он может получить максимум 50000</li>
        <li>если клиенту от 22 до 35, то он сможет получить максимум 400000</li>
        <li>если клиенту от 36 до 65, то ему одобрят максимум 1000000</li>
        <li>кредит могут выдавать суммами кратными 1000.</li>
    </ul>

    <script>
        let age;
        let requestedAmount;

        // Получаем возраст пользователя и проверяем ввод
        do {
            const ageInput = prompt("Введите ваш возраст:");

            if (ageInput === null) {
                // Пользователь нажал "Отмена"
                alert("Операция отменена.");
                break; // Выходим из цикла
            }

            age = Number(ageInput);

            if (isNaN(age)) {
                alert("Пожалуйста, введите корректный возраст (число).");
            } else if (age < 0) {
                alert("Возраст не может быть отрицательным.");
            }
        } while (isNaN(age) || age < 0);

        if (isNaN(age) || age < 0) {
            // Если ввод возраста не был корректным, прерываем выполнение
        } else {

            // Получаем желаемую сумму кредита и проверяем ввод
            do {
                const amountInput = prompt("Введите желаемую сумму кредита:");

                if (amountInput === null) {
                    // Пользователь нажал "Отмена"
                    alert("Операция отменена.");
                    break; // Выходим из цикла
                }

                requestedAmount = Number(amountInput);

                if (isNaN(requestedAmount)) {
                    alert("Пожалуйста, введите корректную сумму кредита (число).");
                } else if (requestedAmount < 0) {
                    alert("Сумма кредита не может быть отрицательной.");
                }
            } while (isNaN(requestedAmount) || requestedAmount < 0);

            if (isNaN(requestedAmount) || requestedAmount < 0) {
                // Если ввод суммы не был корректным, прерываем выполнение
            } else {

                let maxCredit = 0;

                if (age < 18) {
                    alert("Кредит не может быть выдан лицам младше 18 лет.");
                } else if (age >= 18 && age <= 21) {
                    maxCredit = 50000;
                } else if (age >= 22 && age <= 35) {
                    maxCredit = 400000;
                } else if (age >= 36 && age <= 65) {
                    maxCredit = 1000000;
                } else {
                    alert("Возраст слишком большой для выдачи кредита."); // Для возраста больше 65
                }

                if (maxCredit > 0) {
                    const approvedAmount = Math.floor(Math.min(requestedAmount, maxCredit) / 1000) * 1000;
                    alert(`Мы можем вам выдать ${approvedAmount}.`);
                }
            }
        }
    </script>
</body>

</html>